<div class="main-container">
    <div class="header col-lg-12 col-md-12 col-sm-12 col-xs-12">
        <h3 class="header-text m-bottom-sm">设备检验结论报告</h3>
        <div class="panel-body table-responsive">
            <calendar></calendar>
            <table class="table table-striped">
                <thead>
                <tr>
                    <td>所属公司</td>
                    <td>申报人</td>
                    <td>设备编号</td>
                    <td>设备名称</td>
                    <td>工程名称</td>
                    <td>创建时间</td>
                    <td>操作</td>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="data in inspectReport" class="ng-scope">
                    <td ng-bind="data.applicationCompanyName" class="ng-binding"></td>
                    <td ng-bind="data.declarant" class="ng-binding"></td>
                    <td ng-bind="data.deviceCode" class="ng-binding"></td>
                    <td ng-bind="data.deviceName" class="ng-binding"></td>
                    <td ng-bind="data.projectName" class="ng-binding"></td>
                    <td ng-bind="data.createTime | date:'yyyy-MM-dd HH:mm'" class="ng-binding"></td>
                    <td>
                    <td>
                        <span class="fa fa-pencil-square-o fa-lg btn btn-primary marginTB-xs" title="编辑" data-toggle="modal" data-target="#myModa55" ng-click="edit($index)"></span>
                        <span class="fa fa-check-square-o fa-lg btn btn-primary marginTB-xs ng-scope" title="填写报告" data-toggle="modal" data-target="#myModa66"></span>
                        <span class="fa fa-file-text-o fa-lg btn  btn-success marginTB-xs" title="详情"
                              report-details="showDetailModal" ng-click="showDataClick($index)" data-toggle="modal" data-target="#myModa77"></span>
                    </td>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
        <div class="pull-right">
            <ul class="pagination">
                <li class="disabled"><a href="#">&laquo;</a></li>
                <li class="disabled"><a href="#">‹</a></li>
                <li class="active"><a href="#">1</a></li>
                <li class="disabled"><a href="#">›</a></li>
                <li class="disabled"><a href="#">&raquo;</a></li>
            </ul>
        </div>
    </div>
</div>
<!-- Modal -->
<!--编辑-->
<div class="modal fade" id="myModa55" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog" role="document">
        <div class="smart-widget ng-scope">
            <div class="smart-widget-header">
                现场检测
                <span class="smart-widget-option">
	                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
	                        </span>
            </div>
            <div class="smart-widget-inner">
                <div class="smart-widget-body">
                    <form id="formToggleLine" class="form-horizontal no-margin form-border ng-pristine ng-valid">
                        <div class="form-group">
                            <label class="col-lg-3 control-label">检验受理编号</label>
                            <div class="col-lg-9">
                                <span class="form-control ng-pristine ng-untouched ng-valid ng-empty" ng-bind="acceptId"></span>
                            </div>
                        </div>

                        <div class="form-group">
                            <div class="col-lg-12">
                                <button class="btn btn-success btn-lg btn-block" ng-click="onConfirmButtonClick()">确定
                                </button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
<!--填写报告-->
<div class="modal fade" id="myModa66" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog" role="document">
        <div ><div class="smart-widget ng-scope">
            <div class="smart-widget-header">
                设备检测报告详情
                <span class="smart-widget-option">
	                            <a class="widget-remove-option" ng-click="cancel()">
	                               <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
	                            </a>
	                        </span>
            </div>
            <div class="smart-widget-inner">
                <div class="smart-widget-body">
                    <form  class="form-horizontal no-margin form-border ng-pristine ng-valid-date ng-invalid ng-invalid-required">
                        <div class="form-group">
                            <!-- 设备检验报告编号 -->
                            <div class="col-sm-4 col-xs-6">
                                <label class="control-label">设备检验报告编号</label>
                                <div>
                                    <input type="text" class="form-control ng-pristine ng-untouched ng-valid ng-empty" ng-model="deviceCheckData.code" id="code">
                                    <span class="help-block"></span>
                                </div>
                            </div>
                            <!-- 设备安装地点 -->
                            <div class="col-sm-4 col-xs-6">
                                <label class="control-label">设备安装地点</label>
                                <div>
                                    <input type="text" class="form-control ng-pristine ng-untouched ng-valid ng-empty" ng-model="deviceCheckData.deviceInstallAddress" id="deviceInstallAddress">
                                    <span class="help-block"></span>
                                </div>
                            </div>
                            <!-- 出厂编号 -->
                            <div class="col-sm-4 col-xs-6">
                                <label class="control-label">出厂编号</label>
                                <div>
                                    <input type="text" class="form-control ng-pristine ng-untouched ng-valid ng-empty" ng-model="deviceCheckData.factoryNumber" id="factoryNumber">
                                    <span class="help-block"></span>
                                </div>
                            </div>
                            <!-- 安装许可证编号 -->
                            <div class="col-sm-4 col-xs-6">
                                <label class="control-label">安装许可证编号</label>
                                <div>
                                    <input type="text" class="form-control ng-pristine ng-untouched ng-valid ng-empty" ng-model="deviceCheckData.installLicenseCode" id="installLicenseCode">
                                    <span class="help-block"></span>
                                </div>
                            </div>
                            <!-- 生产厂家 -->
                            <div class="col-sm-4 col-xs-6">
                                <label class="control-label">生产厂家</label>
                                <div>
                                    <input type="text" class="form-control ng-pristine ng-untouched ng-valid ng-empty" ng-model="deviceCheckData.factory" id="factory">
                                    <span class="help-block"></span>
                                </div>
                            </div>
                            <!-- 制造许可证编号 -->
                            <div class="col-sm-4 col-xs-6">
                                <label class="control-label">制造许可证编号</label>
                                <div>
                                    <input type="text" class="form-control ng-pristine ng-untouched ng-valid ng-empty" ng-model="deviceCheckData.manufacturingLicenseNumber" id="manufacturingLicenseNumber">
                                    <span class="help-block"></span>
                                </div>
                            </div>
                            <!-- 出厂日期 -->
                            <div class="col-sm-4 col-xs-6">
                                <label class="control-label">出厂日期</label>
                                <history></history>
                            </div>

                            <!-- 使用年限 -->
                            <div class="col-sm-4 col-xs-6">
                                <label class="control-label">使用年限</label>
                                <div>
                                    <input type="text" class="form-control ng-pristine ng-untouched ng-valid ng-empty" ng-model="deviceCheckData.serviceLife" id="serviceLife" oninput="if (! /^\d+$/ig.test(this.value)){this.value='';}">
                                    <span class="help-block"></span>
                                </div>
                            </div>
                            <!-- 安装高度 -->
                            <div class="col-sm-4 col-xs-6">
                                <label class="control-label">安装高度</label>
                                <div>
                                    <input type="text" class="form-control ng-pristine ng-untouched ng-valid ng-empty" ng-model="deviceCheckData.mountingHeight" id="mountingHeight" oninput="if (! /^\d+$/ig.test(this.value)){this.value='';}">
                                    <span class="help-block"></span>
                                </div>
                            </div>
                            <!-- 最大额定起重量 -->
                            <div class="col-sm-4 col-xs-6">
                                <label class="control-label">最大额定起重量</label>
                                <div>
                                    <input type="text" class="form-control ng-pristine ng-untouched ng-valid ng-empty" ng-model="deviceCheckData.maxSpecifiedWeight" id="maxSpecifiedWeight" oninput="if (! /^\d+$/ig.test(this.value)){this.value='';}">
                                    <span class="help-block"></span>
                                </div>
                            </div>
                            <!-- 最大起重力矩 -->
                            <div class="col-sm-4 col-xs-6">
                                <label class="control-label">最大起重力矩</label>
                                <div>
                                    <input type="text" class="form-control ng-pristine ng-untouched ng-valid ng-empty" ng-model="deviceCheckData.maxLoadMoment" id="maxLoadMoment" oninput="if (! /^\d+$/ig.test(this.value)){this.value='';}">
                                    <span class="help-block"></span>
                                </div>
                            </div>

                            <!-- 起升速度 -->
                            <div class="col-sm-4 col-xs-6">
                                <label class="control-label">起升速度</label>
                                <div>
                                    <input type="text" class="form-control ng-pristine ng-untouched ng-valid ng-empty" ng-model="deviceCheckData.liftingSpeed" id="liftingSpeed" oninput="if (! /^\d+$/ig.test(this.value)){this.value='';}">
                                    <span class="help-block"></span>
                                </div>
                            </div>
                            <!-- 最大幅度 -->
                            <div class="col-sm-4 col-xs-6">
                                <label class="control-label">最大幅度</label>
                                <div>
                                    <input type="text" class="form-control ng-pristine ng-untouched ng-valid ng-empty" ng-model="deviceCheckData.maxRadius" id="maxRadius" oninput="if (! /^\d+$/ig.test(this.value)){this.value='';}">
                                    <span class="help-block"></span>
                                </div>
                            </div>
                            <!-- 安装幅度 -->
                            <div class="col-sm-4 col-xs-6">
                                <label class="control-label">安装幅度</label>
                                <div>
                                    <input type="text" class="form-control ng-pristine ng-untouched ng-valid ng-empty" ng-model="deviceCheckData.installRadius" id="installRadius" oninput="if (! /^\d+$/ig.test(this.value)){this.value='';}">
                                    <span class="help-block"></span>
                                </div>
                            </div>
                            <!-- 变幅速度 -->
                            <div class="col-sm-4 col-xs-6">
                                <label class="control-label">变幅速度</label>
                                <div>
                                    <input type="text" class="form-control ng-pristine ng-untouched ng-valid ng-empty" ng-model="deviceCheckData.derrickingSpeed" id="derrickingSpeed" oninput="if (! /^\d+$/ig.test(this.value)){this.value='';}">
                                    <span class="help-block"></span>
                                </div>
                            </div>
                            <!-- 大车运行速度 -->
                            <div class="col-sm-4 col-xs-6">
                                <label class="control-label">大车运行速度</label>
                                <div>
                                    <input type="text" class="form-control ng-pristine ng-untouched ng-valid ng-empty" ng-model="deviceCheckData.gantryTravelingSpeed" id="gantryTravelingSpeed" oninput="if (! /^\d+$/ig.test(this.value)){this.value='';}">
                                    <span class="help-block"></span>
                                </div>
                            </div>
                            <!-- 附着道数 -->
                            <div class="col-sm-4 col-xs-6">
                                <label class="control-label">附着道数</label>
                                <div>
                                    <input type="text" class="form-control ng-pristine ng-untouched ng-valid ng-empty" ng-model="deviceCheckData.attachChannelCount" id="attachChannelCount" oninput="if (! /^\d+$/ig.test(this.value)){this.value='';}">
                                    <span class="help-block"></span>
                                </div>
                            </div>
                            <!-- 检验依据 -->
                            <div class="col-sm-4 col-xs-6">
                                <label class="control-label">检验依据</label>
                                <div>
                                    <input type="text" class="form-control ng-pristine ng-untouched ng-valid ng-empty" ng-model="deviceCheckData.inspectionStandard" id="inspectionStandard">
                                    <span class="help-block"></span>
                                </div>
                            </div>
                            <!-- 主要检验仪器 -->
                            <div class="col-sm-4 col-xs-6">
                                <label class="control-label">主要检验仪器</label>
                                <div>
                                    <input type="text" class="form-control ng-pristine ng-untouched ng-valid ng-empty" ng-model="deviceCheckData.mainInspectionInstrument" id="mainInspectionInstrument">
                                    <span class="help-block"></span>
                                </div>
                            </div>
                            <!-- 检验结论 -->
                            <div class="col-sm-4 col-xs-6">
                                <label class="control-label">检验结论</label>
                                <div>
                                    <input type="text" class="form-control ng-pristine ng-untouched ng-valid ng-empty" ng-model="deviceCheckData.inspectionConclusion" id="inspectionConclusion">
                                    <span class="help-block"></span>
                                </div>
                            </div>
                            <!-- 备注 -->
                            <div class="col-sm-4 col-xs-6">
                                <label class="control-label">备注</label>
                                <div>
                                    <input type="text" class="form-control ng-pristine ng-untouched ng-valid ng-empty" ng-model="deviceCheckData.remark" id="remark">
                                    <span class="help-block"></span>
                                </div>
                            </div>
                            <!-- 下次检验日期 -->
                            <div class="col-sm-4 col-xs-6">
                                <label class="control-label">下次检验日期</label>
                                <history></history>
                            </div>
                            <!-- 审核人员 -->
                            <div class="col-sm-4 col-xs-6">
                                <label class="control-label">审核人员</label>
                                <div>
                                    <input type="text" class="form-control ng-pristine ng-untouched ng-valid ng-empty" ng-model="deviceCheckData.auditOfficer" id="auditOfficer">
                                    <span class="help-block"></span>
                                </div>
                            </div>
                            <!-- 审核日期 -->
                            <div class="col-sm-4 col-xs-6">
                                <label class="control-label">审核日期</label>
                                <history></history>
                            </div>
                            <!-- 批准人员 -->
                            <div class="col-sm-4 col-xs-6">
                                <label class="control-label">批准人员</label>
                                <div>
                                    <input type="text" class="form-control ng-pristine ng-untouched ng-valid ng-empty" ng-model="deviceCheckData.authorizingOfficer" id="authorizingOfficer">
                                    <span class="help-block"></span>
                                </div>
                            </div>
                            <!-- 批准日期 -->
                            <div class="col-sm-4 col-xs-6">
                                <label class="control-label">批准日期</label>
                                <history></history>
                            </div>
                            <!-- 检验机构核准证号 -->
                            <div class="col-sm-4 col-xs-6">
                                <label class="control-label">检验机构核准证号</label>
                                <div>
                                    <input type="text" class="form-control ng-pristine ng-untouched ng-valid ng-empty" ng-model="deviceCheckData.inspectionUnitCertificate" id="inspectionUnitCertificate">
                                    <span class="help-block"></span>
                                </div>
                            </div>
                            <!-- 签发日期 -->
                            <div class="col-sm-4 col-xs-6">
                                <label class="control-label">签发日期</label>
                                <history></history>
                            </div>
                        </div>
                        <div class="form-group">
                            <!-- 检验报告封面 -->
                            <div class="col-xs-6">
                                <label class="control-label">检验报告封面</label>

                                <div>
                                    <input type="file" ngf-select="" ng-model="deviceCheckData.inspectionReportCoverPageFile" ngf-multiple="false" class="ng-pristine ng-untouched ng-valid ng-empty">
                                    <img class="material-image" ngf-src="deviceCheckData.inspectionReportCoverPageFile" src="">
                                    <span class="help-block"></span>
                                </div>
                            </div>
                            <!-- 检验报告结论页 -->
                            <div class="col-xs-6">
                                <label class="control-label">检验报告结论页</label>

                                <div>
                                    <input type="file" ngf-select="" ng-model="deviceCheckData.inspectionReportConclusionPageFile" ngf-multiple="false" class="ng-pristine ng-untouched ng-valid ng-empty">
                                    <img class="material-image" ngf-src="deviceCheckData.inspectionReportConclusionPageFile" src="">
                                    <span class="help-block"></span>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="col-lg-12">
                                <button class="btn btn-success btn-lg btn-block" ng-click="onConfirmButtonClick()">确定
                                </button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>


        </div>
    </div>
</div>
<!--报告详情模态框-->
<div class="modal fade" id="myModa77" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog" role="document">
        <div class="smart-widget ng-scope">
            <div class="smart-widget-header">
                报告详情
                <span class="smart-widget-option">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span
                                aria-hidden="true">&times;
                        </span>
                    </button>
                </span>
            </div>
            <div class="smart-widget-inner">
                <div class="smart-widget-body">
                    <form class="form-horizontal no-margin form-border ng-pristine ng-valid">
                        <div active="activeForm" cdeviceApplicationDatadeviceNameass="ng-isolate-scope">
                            <form name="outerForm" class="tab-form-demo">
                                <uib-tabset active="activeForm">
                                    <uib-tab index="0" heading="设备报检申请">
                                        <ng-form name="nestedForm">
                                            <div class="form-group smart-widget-body">
                                                <div class="form-group ng-scope" style="margin-top:20px;">
                                                    <label class="col-lg-3 control-label">产权备案编号</label>
                                                    <div class="col-lg-9">
                                                        <span class="form-control ng-binding"
                                                              ng-bind="inspectReport2.application.iprCode"></span>
                                                    </div>
                                                </div>
                                                <div class="form-group ng-scope">
                                                    <label class="col-lg-3 control-label">设备编号</label>
                                                    <div class="col-lg-9">
                                                        <span class="form-control ng-binding"
                                                              ng-bind="inspectReport2.application.deviceCode"></span>
                                                    </div>
                                                </div>
                                                <div class="form-group ng-scope">
                                                    <label class="col-lg-3 control-label">设备名称</label>
                                                    <div class="col-lg-9">
                                                        <span class="form-control ng-binding"
                                                              ng-bind="inspectReport2.application.deviceName"></span>
                                                    </div>
                                                </div>
                                                <div class="form-group ng-scope">
                                                    <label class="col-lg-3 control-label">规格型号</label>
                                                    <div class="col-lg-9">
                                                        <span class="form-control ng-binding"
                                                              ng-bind="inspectReport2.application.specification"></span>
                                                    </div>
                                                </div>
                                                <div class="form-group ng-scope">
                                                    <label class="col-lg-3 control-label">所属工程</label>
                                                    <div class="col-lg-9">
                                                        <span class="form-control ng-binding"
                                                              ng-bind="inspectReport2.application.project.name"></span>
                                                    </div>
                                                </div>
                                                <div class="form-group ng-scope">
                                                    <label class="col-lg-3 control-label">设备公司名</label>
                                                    <div class="col-lg-9">
                                                        <span class="form-control ng-binding"
                                                              ng-bind="inspectReport2.application.applicationCompany.name"></span>
                                                    </div>
                                                </div>
                                                <div class="form-group ng-scope">
                                                    <label class="col-lg-3 control-label">申报人</label>
                                                    <div class="col-lg-9">
                                                        <span class="form-control ng-binding"
                                                              ng-bind="inspectReport2.application.declarant"></span>
                                                    </div>
                                                </div>
                                                <div class="form-group ng-scope">
                                                    <label class="col-lg-3 control-label">申报时间</label>
                                                    <div class="col-lg-9">
                                                        <span class="form-control ng-binding"
                                                              ng-bind="inspectReport2.application.applicationDate | date:'yyyy-MM-dd'"></span>
                                                    </div>
                                                </div>
                                                <!--图片-->
                                                <div class="form-group ng-scope" ng-repeat="data in inspectReport2.application.materialFiles">
                                                    <label class="col-lg-3 control-label ng-binding" ng-bind="data.name"></label>
                                                    <div class="col-lg-9">
                                                        <img class="material-image" ng-src="{{data.url}}" ng-click="openImage(data.url)">
                                                    </div>
                                                </div>
                                            </div>
                                        </ng-form>
                                    </uib-tab>
                                    <uib-tab index="1" heading="检验单位审核">
                                        <ng-form name="nestedForm">
                                            <div class="form-group smart-widget-body">
                                                <div class="form-group ng-scope" style="margin-top:20px;">
                                                    <label class="col-lg-3 control-label">审核人</label>
                                                    <div class="col-lg-9">
                                                        <span class="form-control ng-binding"
                                                              ng-bind="inspectReport2.accept.accepter.username"></span>
                                                    </div>
                                                </div>
                                                <div class="form-group ng-scope">
                                                    <label class="col-lg-3 control-label">审核时间</label>
                                                    <div class="col-lg-9">
                                                        <span class="form-control ng-binding"
                                                              ng-bind="inspectReport2.accept.createTime | date:'yyyy-MM-dd'"></span>
                                                    </div>
                                                </div>
                                                <div class="form-group ng-scope"></div>
                                            </div>
                                        </ng-form>
                                    </uib-tab>
                                    <uib-tab index="2" heading="现场检验详情">
                                        <ng-form name="nestedForm">
                                            <div class="form-group smart-widget-body">
                                                <div class="form-group ng-scope" style="margin-top:20px;">
                                                    <label class="col-lg-3 control-label">检验人员</label>
                                                    <div class="col-lg-9">
                                                        <span class="form-control ng-binding"
                                                              ng-bind="inspectReport2.accept.accepter.username"></span>
                                                    </div>
                                                </div>
                                                <div class="form-group ng-scope">
                                                    <label class="col-lg-3 control-label">签到时间</label>
                                                    <div class="col-lg-9">
                                                        <span class="form-control ng-binding"
                                                              ng-bind=""></span>
                                                    </div>
                                                </div>
                                                <div class="form-group ng-scope">
                                                    <label class="col-lg-3 control-label">签到地点</label>
                                                    <div class="col-lg-9">
                                                        <span class="form-control ng-binding"
                                                              ng-bind=""></span>
                                                    </div>
                                                </div>
                                                <div class="form-group ng-scope">
                                                    <label class="col-lg-3 control-label">签退时间</label>
                                                    <div class="col-lg-9">
                                                        <span class="form-control ng-binding"
                                                              ng-bind=""></span>
                                                    </div>
                                                </div>
                                                <div class="form-group ng-scope">
                                                    <label class="col-lg-3 control-label">签退地点</label>
                                                    <div class="col-lg-9">
                                                        <span class="form-control ng-binding"
                                                              ng-bind=""></span>
                                                    </div>
                                                </div>
                                                <!--图片-->
                                                <div class="form-group ng-scope" ng-repeat="data in inspectReport2.execution.materialFiles">
                                                    <label class="col-lg-3 control-label ng-binding" ng-bind="data.name"></label>
                                                    <div class="col-lg-9">
                                                        <img class="material-image" ng-src="{{data.url1}}" ng-click="openImage(data.url)">
                                                    </div>
                                                </div>
                                                <div class="form-group ng-scope">
                                                    <label class="col-lg-3 control-label">审核时间</label>
                                                    <div class="col-lg-9">
                                                        <span class="form-control ng-binding"
                                                              ng-bind="inspectReport2.excution.createTime | date:'yyyy-MM-dd'"></span>
                                                    </div>
                                                </div>
                                                <div class="form-group ng-scope"></div>
                                            </div>
                                        </ng-form>
                                    </uib-tab>
                                </uib-tabset>
                            </form>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
